"use strict";(self.webpackChunkstore=self.webpackChunkstore||[]).push([[889],{8889:(q,g,l)=>{l.r(g),l.d(g,{ItemsModule:()=>R});var c=l(4755),p=l(2216),n=l(3020),m=l(6132),_=l(2439);let v=(()=>{class e{constructor(t){this.http=t}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(_.O))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var x=l(8631),d=l(9757);function C(e,i){if(1&e){const t=n.EpF();n.ynx(0),n.TgZ(1,"div",2)(2,"div",3),n._UZ(3,"img",4),n.TgZ(4,"div",5)(5,"p-button",6),n.NdJ("onClick",function(){const r=n.CHM(t).$implicit,u=n.oxw();return r.fav=!r.fav,n.KtG(u.addToWishlist(r))}),n.qZA()()(),n.TgZ(6,"div",7)(7,"div",8)(8,"h4",9),n._uU(9),n.qZA(),n.TgZ(10,"h6",10),n._uU(11),n.qZA()(),n.TgZ(12,"i",11),n.NdJ("click",function(){const r=n.CHM(t).$implicit,u=n.oxw();return n.KtG(u.addToCard(r))}),n.qZA()()(),n.BQk()}if(2&e){const t=i.$implicit,o=n.oxw();n.xp6(3),n.Q6J("src","http://localhost:3000/api/items/image/"+(null==t?null:t.img),n.LSH)("alt",t.name)("routerLink","./"+t._id),n.xp6(2),n.Q6J("icon",o.favList[t._id]?"pi pi-heart-fill":"pi pi-heart"),n.xp6(4),n.Oqu(t.name),n.xp6(2),n.Oqu("$"+t.price)}}let y=(()=>{class e{constructor(t,o,a){this.service=t,this.wishlistService=o,this.helperService=a,this.clicked=!1,this.products=[],this.page=1,this.pagination=7,this.favList={},this.cardList=[]}ngOnInit(){this.service.getProduct({pagination:this.pagination,page:this.page}).subscribe(t=>{this.products=t.items}),this.getWishlist(),this.getCardList(),console.log("hey")}getCardList(){localStorage.getItem("token")&&this.service.getCardList().subscribe(o=>{this.cardList=o.list})}addToWishlist(t){const o=JSON.parse(localStorage.getItem("favList"));o[t._id]=!o[t._id],localStorage.setItem("favList",JSON.stringify(o)),this.favList=o,this.helperService.favListToString=o,localStorage.getItem("token")&&this.service.changFavList(this.helperService.favListToString).subscribe(()=>{})}getWishlist(){localStorage.getItem("token")?this.service.getFavList().subscribe(o=>{this.helperService.favList=o.list,this.favList=this.helperService.favList}):localStorage.getItem("favList")?this.favList=JSON.parse(localStorage.getItem("favList")):localStorage.setItem("favList",JSON.stringify({}))}addToCard(t){console.log(t);const o=this.cardList.findIndex(a=>a.id===t._id);-1===o?this.cardList.push({id:t._id,quantity:1}):this.cardList[o].quantity=++this.cardList[o].quantity,this.service.changCardList(this.cardList).subscribe(()=>{})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(m.L),n.Y36(v),n.Y36(x.P))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-item-list"]],decls:3,vars:1,consts:[[1,"center","title"],[4,"ngFor","ngForOf"],[1,"col-4",2,"display","inline-block"],[1,"parentContainer"],[3,"src","alt","routerLink"],[1,"bottom-right"],["styleClass","p-button-rounded p-button-wi p-button-outlined",3,"icon","onClick"],[1,"item-des"],[1,"font-p","mt-0"],[1,"text-xl","mb-0"],[1,"text-base","mt-0","mb-3"],[1,"pi","pi-shopping-cart",2,"font-size","1.7rem","cursor","pointer",3,"click"]],template:function(t,o){1&t&&(n.TgZ(0,"p",0),n._uU(1,"Product List"),n.qZA(),n.YNc(2,C,13,6,"ng-container",1)),2&t&&(n.xp6(2),n.Q6J("ngForOf",o.products))},dependencies:[c.sg,p.rH,d.zx],styles:[".parentContainer[_ngcontent-%COMP%]{position:relative;text-align:center}.bottom-right[_ngcontent-%COMP%]{position:absolute;bottom:9px;right:0;margin:8px}img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:4px}.item-des[_ngcontent-%COMP%]{padding:0 4px 4px;display:flex;justify-content:space-between;align-items:center}"]}),e})(),b=(()=>{class e{constructor(t){this.http=t}getCardList(){return this.http.get("card")}changCardList(t){return this.http.put("card",{list:t})}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(_.O))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const P=[{path:"",component:y},{path:":id",component:(()=>{class e{constructor(t,o,a){this.service=t,this.cardService=o,this.route=a}ngOnInit(){const t=this.route.snapshot.paramMap.get("id");this.service.getProduct({id:t}).subscribe(o=>{this.item=o})}addToCard(){}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(m.L),n.Y36(b),n.Y36(p.gz))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-item-view"]],decls:23,vars:4,consts:[[1,"grid"],[1,"col-7"],["width","100%",3,"src","alt"],[1,"col-5"],[1,"flex","flex-column","justify-content-end",2,"height","100%"],[1,"box"],[1,"text-base","red-text"],[1,"text-sm","red-text"],[1,"pb-4","mt-3"],["label","Add to bag","styleClass","p-button mb-3",3,"onClick"],[1,"box-2"],[1,"text-xs",2,"text-decoration","underline"]],template:function(t,o){1&t&&(n.TgZ(0,"div",0)(1,"div",1),n._UZ(2,"img",2),n.qZA(),n.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"p",6),n._uU(7," New offer "),n._UZ(8,"br"),n.TgZ(9,"span",7),n._uU(10," I'am new copoun "),n.qZA()()(),n.TgZ(11,"span",8),n._uU(12),n._UZ(13,"br"),n._uU(14),n.qZA(),n.TgZ(15,"p-button",9),n.NdJ("onClick",function(){return o.addToCard()}),n.qZA(),n.TgZ(16,"span",10),n._uU(17," Free Delivery. "),n._UZ(18,"br"),n._uU(19," Free Returns "),n._UZ(20,"br"),n.TgZ(21,"span",11),n._uU(22," View our Delivery & Returns Policy "),n.qZA()()()()()),2&t&&(n.xp6(2),n.Q6J("src","http://localhost:3000/api/items/image/"+(null==o.item?null:o.item.img),n.LSH)("alt",o.item.name),n.xp6(10),n.hij(" ",o.item.description," "),n.xp6(2),n.hij(" ",o.item.price," "))},dependencies:[d.zx],styles:[".box[_ngcontent-%COMP%]{background-color:#fbe4e4ca;padding:5px;border-radius:8px}.box-2[_ngcontent-%COMP%]{background-color:#ffb6b6b8;padding:5px;border-radius:8px}p[_ngcontent-%COMP%]{color:#000}img[_ngcontent-%COMP%]{border-radius:12px}.red-text[_ngcontent-%COMP%]{color:#eb2049}"]}),e})()}];let T=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[p.Bz.forChild(P),p.Bz]}),e})();var s=l(1180),f=l(387),I=l(568),h=l(7594);let w=(()=>{class e extends h.s{}return(0,s.Z)(e,"\u0275fac",function(){let i;return function(o){return(i||(i=n.n5z(e)))(o||e)}}()),(0,s.Z)(e,"\u0275cmp",n.Xpm({type:e,selectors:[["MinusIcon"]],standalone:!0,features:[n.qOj,n.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.2222 7.77778H0.777778C0.571498 7.77778 0.373667 7.69584 0.227806 7.54998C0.0819442 7.40412 0 7.20629 0 7.00001C0 6.79373 0.0819442 6.5959 0.227806 6.45003C0.373667 6.30417 0.571498 6.22223 0.777778 6.22223H13.2222C13.4285 6.22223 13.6263 6.30417 13.7722 6.45003C13.9181 6.5959 14 6.79373 14 7.00001C14 7.20629 13.9181 7.40412 13.7722 7.54998C13.6263 7.69584 13.4285 7.77778 13.2222 7.77778Z","fill","currentColor"]],template:function(t,o){1&t&&(n.O4$(),n.TgZ(0,"svg",0),n._UZ(1,"path",1),n.qZA()),2&t&&(n.Tol(o.getClassNames()),n.uIk("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role))},dependencies:[c.ez],encapsulation:2})),e})(),L=(()=>{class e extends h.s{}return(0,s.Z)(e,"\u0275fac",function(){let i;return function(o){return(i||(i=n.n5z(e)))(o||e)}}()),(0,s.Z)(e,"\u0275cmp",n.Xpm({type:e,selectors:[["PlusIcon"]],standalone:!0,features:[n.qOj,n.jDz],decls:6,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["clip-path","url(#clip0_306_11939)"],["d","M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z","fill","currentColor"],["id","clip0_306_11939"],["width","14","height","14","fill","white"]],template:function(t,o){1&t&&(n.O4$(),n.TgZ(0,"svg",0)(1,"g",1),n._UZ(2,"path",2),n.qZA(),n.TgZ(3,"defs")(4,"clipPath",3),n._UZ(5,"rect",4),n.qZA()()()),2&t&&(n.Tol(o.getClassNames()),n.uIk("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role))},encapsulation:2})),e})(),Q=(()=>{class e{}return(0,s.Z)(e,"\u0275fac",function(t){return new(t||e)}),(0,s.Z)(e,"\u0275mod",n.oAB({type:e})),(0,s.Z)(e,"\u0275inj",n.cJS({imports:[c.ez,f.m8,I.T,L,w,f.m8]})),e})(),R=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[c.ez,T,d.hJ,Q]}),e})()}}]);